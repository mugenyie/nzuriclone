function Chart(t,i){var e={fillStyle:"rgba(0,0,0,0.5)",opacity:.8,selector:"#process-graph",identifier:""};this.opts=$.extend({},e,i);this.canvas=$("<canvas></canvas>").attr("id",this.opts.id);if(typeof G_vmlCanvasManager!="undefined"){G_vmlCanvasManager.initElement(this.canvas[0])}var a=$(this.opts.selector);this.canvas.appendTo(a);this.setSize(a.width(),a.height());this.context=this.canvas[0].getContext("2d");this.data_points=t;this.animation={interval:null,started:null,duration:600,progress:0};var s=this;$(window).resize(function(){var t=$(s.opts.selector);s.setSize(t.width(),t.height());s.renderFrame(s.animation.progress)})}function NodesDiagram(t){var i={selector:"#nodes"};this.opts=$.extend({},i,t);this.canvas=$("<canvas></canvas>").appendTo($(this.opts.selector));this.canvas[0].width=this.opts.width;this.canvas[0].height=this.opts.height;this.context=this.canvas[0].getContext("2d");this.source_canvas=$("<canvas></canvas>");this.source_canvas[0].width=this.opts.width;this.source_canvas[0].height=this.opts.height;this.source_context=this.source_canvas[0].getContext("2d");this.source_context.drawImage(this.opts.img,0,0);this.imagedata=this.source_context.getImageData(0,0,this.opts.width,this.opts.height);this.animation={timer:null,interrupt:false,delay:5};this.nodes={hot:[]}}Chart.prototype.setSize=function(t,i){this.opts.width=t;this.opts.height=i;this.canvas[0].width=t;this.canvas[0].height=i};Chart.prototype.startAnimation=function(){if(this.animation.interval!=null){clearInterval(this.animation.interval);this.animation.interval=null}this.animation.started=(new Date).getTime();this.renderFrame(0);var t=this;this.animation.interval=setInterval(function(){var i=(new Date).getTime();var e=i-t.animation.started;e=e>t.animation.duration?t.animation.duration:e;var a=e/t.animation.duration;t.renderFrame(a);t.animation.progress=a;if(e>=t.animation.duration){clearInterval(t.animation.interval);t.animation.interval=null}},30)};Chart.prototype.renderFrame=function(t){t=t<0?0:t>1?1:t;t=this.easeInOutBack(t,t*this.animation.duration,this.animation.duration);this.canvas[0].width=this.canvas[0].width;this.context.fillStyle=this.opts.fillStyle;this.context.beginPath();this.context.moveTo(0,this.opts.height);for(var i=0;i<this.data_points.length;i++){var e=this.data_points[i];var a={x:Math.round(e.x*this.opts.width),y:Math.round((1-t*e.y)*this.opts.height)};this.context.lineTo(a.x,a.y)}this.context.lineTo(this.opts.width,this.opts.height);this.context.fill();this.context.closePath()};Chart.prototype.easeInOutBack=function(t,i,e){var a=0;var s=1;var n=1.70158;if((i/=e/2)<1)return s/2*i*i*(((n*=1.525)+1)*i-n)+a;return s/2*((i-=2)*i*(((n*=1.525)+1)*i+n)+2)+a};NodesDiagram.prototype.startAnimation=function(){this.context.fillStyle="rgba(255,255,255,1)";this.context.strokeStyle="rgba(255,255,255,1)";this.context.lineWidth=1;this.context.fillRect(0,0,this.opts.width,this.opts.height);this.context.globalCompositeOperation="destination-out";$("#dna-bg").show();this.nodes.hot=[{x:1072,y:58},{x:1414,y:58},{x:1840,y:41},{x:761,y:75},{x:293,y:58}];this.renderStep();var t=this};NodesDiagram.prototype.fillPixel=function(t){var i=this.pixelAtPoint(t);this.context.fillStyle="rgba(0,0,0,"+i[3]/255+")";this.context.fillRect(t.x,t.y,1,1)};NodesDiagram.prototype.clearPixel=function(t){var i=t.y*this.opts.width*4;var e=t.x%this.opts.width*4;var a=e+i;this.imagedata.data[a+3]=0};NodesDiagram.prototype.markPixel=function(t){var i=t.y*this.opts.width*4;var e=t.x%this.opts.width*4;var a=e+i;this.imagedata.data[a+1]=255};NodesDiagram.prototype.renderStep=function(){if(this.animation.interrupt){return}var t=this.nodes.hot.slice();var i=[];for(var e=0;e<t.length;e++){var a=t[e];this.fillPixel(a);this.clearPixel(a);var s=this.getSurroundingPoints(a);for(var n=0;n<s.length;n++){i.push(s[n])}}if(i.length>0){this.nodes.hot=i;var o=this;this.animation.timer=setTimeout(function(){o.renderStep()},this.animation.delay)}else{}};NodesDiagram.prototype.getSurroundingPoints=function(t){var i=[];for(var e=-1;e<=1;e++){_newx=t.x+e;if(_newx>=0&&_newx<=this.opts.width-1){for(var a=-1;a<=1;a++){if(!(e==0&&a==0)){_newy=t.y+a;if(_newy>=0&&_newy<=this.opts.height-1){var s={x:_newx,y:_newy};var n=this.pixelAtPoint(s);if(n[1]==0&&n[3]>0){this.markPixel(s);i.push(s)}}}}}}return i};NodesDiagram.prototype.pixelAtPoint=function(t){var i=t.y*this.opts.width*4;var e=t.x%this.opts.width*4;var a=e+i;var s=[this.imagedata.data[a],this.imagedata.data[a+1],this.imagedata.data[a+2],this.imagedata.data[a+3]];return s};var data_points={discover:[{x:0,y:0},{x:.07,y:.575},{x:.15,y:.36},{x:.272,y:.32},{x:.31,y:.1},{x:.49,y:0}],design:[{x:0,y:0},{x:.15,y:.15},{x:.31,y:.66},{x:.37,y:.61},{x:.42,y:.75},{x:.5,y:.38},{x:.83,y:0}],implement:[{x:.36,y:0},{x:.4,y:.11},{x:.53,y:.72},{x:.58,y:.42},{x:.64,y:.25},{x:.72,y:.25},{x:.87,y:0}],develop:[{x:.41,y:0},{x:.56,y:.28},{x:.65,y:.84},{x:.71,y:.75},{x:.82,y:.26},{x:.96,y:0}],deliver:[{x:.6,y:0},{x:.82,y:.72},{x:.935,y:.475},{x:1,y:0}]};var process_charts={discover:null,design:null,implement:null,develop:null,deliver:null};$(function(){process_charts.discover=new Chart(data_points.discover,{fillStyle:"rgba( 80, 177, 170, 0.8)",selector:"#process-graph",id:"chart-discover"});process_charts.design=new Chart(data_points.design,{fillStyle:"rgba( 245, 122, 115, 0.8)",selector:"#process-graph",id:"chart-design"});process_charts.implement=new Chart(data_points.implement,{fillStyle:"rgba( 255, 181, 102, 0.8)",selector:"#process-graph",id:"chart-implement"});process_charts.develop=new Chart(data_points.develop,{fillStyle:"rgba( 67, 192, 230, 0.8)",selector:"#process-graph",id:"chart-develop"});process_charts.deliver=new Chart(data_points.deliver,{fillStyle:"rgba( 96, 102, 106, 0.8)",selector:"#process-graph",id:"chart-deliver"});var t=false;var i=function(){if(!t){var i=$(window).scrollTop()+$(window).height()*.8;var e=$("#process-graph").offset().top;if(e<i){t=true;var a=process_charts.discover.animation.duration;var s=$(window).width();if(s>767){$("#process-details article").each(function(){$(this).css({opacity:0,visibility:"visible"})})}process_charts.discover.startAnimation();if(s>767){$("#p1").animate({opacity:1},a)}setTimeout(function(){process_charts.design.startAnimation();if(s>767){$("#p2").animate({opacity:1},a)}},200);setTimeout(function(){process_charts.implement.startAnimation();if(s>767){$("#p3").animate({opacity:1},a)}},400);setTimeout(function(){process_charts.develop.startAnimation();if(s>767){$("#p4").animate({opacity:1},a)}},600);setTimeout(function(){process_charts.deliver.startAnimation();if(s>767){$("#p5").animate({opacity:1},a)}},800)}}};i();$(window).scroll(function(){i()});var e=false;$(".process.pagination").html("");var a=function(){if($(window).width()<768){if(!e){$("#process-details article").each(function(){$(this).css({opacity:1,visibility:"visible"})});e=true}}else{if(e){$("#process-details").cycle("destroy");e=false;$("#process-details article").each(function(){$(this).css({opacity:1,visibility:"visible"})})}}};$(window).resize(function(){a()});a();if(!$("html").hasClass("ie")){var s=false;function n(){if(s){return}s=true;var t=new Image;var i;var e=false;var a=false;t.src="/wp-content/themes/epic/img/dna.png";var n=function(){if($(window).width()>767){if(a&&!e){var t=$(window).scrollTop()+$(window).height()*.8;var s=$("#device").offset().top;if(s<t){e=true;i.startAnimation()}}}};t.onload=function(){i=new NodesDiagram({img:t,selector:"#dna-mask",width:2200,height:143});a=true;n()};$(window).scroll(function(){n()})}if($(window).width()>767){n()}$(window).resize(function(){if($(window).width()>767){n()}})}});